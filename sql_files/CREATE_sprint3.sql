CREATE SEQUENCE seq_OPERACOES_LOGS;
CREATE TABLE APLICACOES_FATPROD (OPERACAOID number(10) NOT NULL, FATORPRODID varchar2(255) NOT NULL, quantidade number(10, 2) NOT NULL, UNIDADEMEDIDA varchar2(255) NOT NULL, PRIMARY KEY (OPERACAOID));
CREATE TABLE ARMAZENS (QUINTAID number(10) NOT NULL, EDIFICIOID number(10) NOT NULL, nome varchar2(255) NOT NULL, area number(20, 4) NOT NULL, UNIDADEMEDIDA varchar2(255) NOT NULL, PRIMARY KEY (QUINTAID, EDIFICIOID));
CREATE TABLE CICLOS (nomeCiclo varchar2(255) NOT NULL, ESPECIEVEGETALID varchar2(255) NOT NULL, inicio number(10), fim number(10) NOT NULL, UNIDADEMEDIDAID varchar2(255) NOT NULL, PRIMARY KEY (nomeCiclo, ESPECIEVEGETALID));
CREATE TABLE COLHEITAS (OPERACAOID number(10) NOT NULL, quantidade number(10, 2) NOT NULL, UNIDADEMEDIDA varchar2(255) NOT NULL, PRIMARY KEY (OPERACAOID));
CREATE TABLE COMPONENTES (FICHATECNICAID number(10) NOT NULL, idxComponente number(10) NOT NULL, SUBSTANCIAID number(10) NOT NULL, PRIMARY KEY (FICHATECNICAID, idxComponente, SUBSTANCIAID));
CREATE TABLE CULTIVOS (QUINTAID number(10) NOT NULL, PARCELAID number(10) NOT NULL, CULTURAID number(10) NOT NULL, dataInicio date NOT NULL, dataFim date, quantidade number(10, 2) NOT NULL, UNIDADEMEDIDA varchar2(255) NOT NULL, SETORREGAID number(10), PRIMARY KEY (PARCELAID, CULTURAID, dataInicio));
CREATE TABLE CULTURAS (idCultura number(10) NOT NULL, TIPOCULTURAID number(10) NOT NULL, ESPECIEVEGETALID varchar2(255) NOT NULL, nome varchar2(255), nomeCompleto varchar2(255), PRIMARY KEY (idCultura));
CREATE TABLE EDIFICIOS (QUINTAID number(10) NOT NULL, idEdificio number(10) NOT NULL, PRIMARY KEY (QUINTAID, idEdificio));
CREATE TABLE ESPECIES_VEGETAIS (idEspecieVegetal varchar2(255) NOT NULL, especie varchar2(255) NOT NULL, nomeComum varchar2(255) NOT NULL, PRIMARY KEY (idEspecieVegetal));
CREATE TABLE FATORES_PRODUCAO (idFatorProducao varchar2(255) NOT NULL, fabricante varchar2(255) NOT NULL, FORMULACAOID number(10) NOT NULL, FICHATECNICAID number(10) NOT NULL, PRIMARY KEY (idFatorProducao));
CREATE TABLE FERTIRREGAS (OPERACAOID number(10) NOT NULL, quantidade number(10, 2) NOT NULL, UNIDADEMEDIDA varchar2(255) NOT NULL, SETOR number(10) NOT NULL, RECEITAID number(10) NOT NULL, horaInicio varchar2(5), PRIMARY KEY (OPERACAOID));
CREATE TABLE FICHAS_TECNICAS (idFichaTecnica number(10) NOT NULL, PRIMARY KEY (idFichaTecnica));
CREATE TABLE FORMULACOES (idFormulacao number(10) NOT NULL, formato varchar2(255) NOT NULL, tipo varchar2(255) NOT NULL, aplicacao varchar2(255) NOT NULL, PRIMARY KEY (idFormulacao));
CREATE TABLE GARAGENS (QUINTAID number(10) NOT NULL, EDIFICIOID number(10) NOT NULL, nome varchar2(255) NOT NULL, area number(20, 4) NOT NULL, UNIDADEMEDIDA varchar2(255) NOT NULL, PRIMARY KEY (QUINTAID, EDIFICIOID));
CREATE TABLE INCORPS_SOLO (OPERACAOID number(10) NOT NULL, quantidade number(10, 2) NOT NULL, UNIDADEMEDIDA varchar2(255) NOT NULL, PRIMARY KEY (OPERACAOID));
CREATE TABLE MIX (idReceita number(10) NOT NULL, PRIMARY KEY (idReceita));
CREATE TABLE MOBILIZACOES_SOLO (OPERACAOID number(10) NOT NULL, quantidade number(10, 2) NOT NULL, UNIDADEMEDIDA varchar2(255) NOT NULL, PRIMARY KEY (OPERACAOID));
CREATE TABLE MOINHOS (QUINTAID number(10) NOT NULL, EDIFICIOID number(10) NOT NULL, nome varchar2(255) NOT NULL, area number(20, 4) NOT NULL, UNIDADEMEDIDA varchar2(255) NOT NULL, PRIMARY KEY (QUINTAID, EDIFICIOID));
CREATE TABLE MONDAS (OPERACAOID number(10) NOT NULL, quantidade number(10, 2) NOT NULL, UNIDADEMEDIDA varchar2(255) NOT NULL, PRIMARY KEY (OPERACAOID));
CREATE TABLE OPERACOES (idOperacao number(10) NOT NULL, QUINTAID number(10) NOT NULL, PARCELAID number(10) NOT NULL, CULTURAID number(10), OPERADORID number(10) NOT NULL, dataInicio date NOT NULL, dataFim date, dataInicioCultivo date, timestamp timestamp(0) DEFAULT CURRENT_TIMESTAMP NOT NULL, anulado number(1) DEFAULT 0 NOT NULL, PRIMARY KEY (idOperacao));
CREATE TABLE OPERACOES_LOGS (idLog number(10) NOT NULL, OPERACAOID number(10) NOT NULL, timestamp timestamp(0) with time zone NOT NULL, descricao varchar2(1000), PRIMARY KEY (idLog));
CREATE TABLE OPERADORES (idOperador number(10) NOT NULL, nome varchar2(255) NOT NULL, PRIMARY KEY (idOperador));
CREATE TABLE PARCELAS (QUINTAID number(10) NOT NULL, idParcela number(10) NOT NULL, nome varchar2(255) NOT NULL, area number(20, 4) NOT NULL, UNIDADEMEDIDA varchar2(255) NOT NULL, PRIMARY KEY (QUINTAID, idParcela));
CREATE TABLE PLANTACOES (OPERACAOID number(10) NOT NULL, quantidade number(10, 2) NOT NULL, UNIDADEMEDIDA varchar2(255) NOT NULL, PRIMARY KEY (OPERACAOID));
CREATE TABLE PODAS (OPERACAOID number(10) NOT NULL, quantidade number(10, 2) NOT NULL, UNIDADEMEDIDA varchar2(255) NOT NULL, PRIMARY KEY (OPERACAOID));
CREATE TABLE PRODUTOS (CULTURAID number(10) NOT NULL, produto varchar2(255) NOT NULL, quantidade number(20, 4), UNIDADEMEDIDA varchar2(255), TIPOCONSUMOID number(10), PRIMARY KEY (CULTURAID, produto));
CREATE TABLE QUINTAS (idQuinta number(10) NOT NULL, nome varchar2(255) NOT NULL, PRIMARY KEY (idQuinta));
CREATE TABLE RECEITAS (RECEITAID number(10) NOT NULL, FATORPRODID varchar2(255) NOT NULL, quantidadePorHectar number(10, 2) NOT NULL, UNIDADEMEDIDA varchar2(255) NOT NULL, PRIMARY KEY (RECEITAID, FATORPRODID));
CREATE TABLE REGAS (OPERACAOID number(10) NOT NULL, quantidade number(10, 2) NOT NULL, UNIDADEMEDIDA varchar2(255) NOT NULL, SETOR number(10) NOT NULL, horaInicio varchar2(5), PRIMARY KEY (OPERACAOID));
CREATE TABLE SEMENTEIRAS (OPERACAOID number(10) NOT NULL, quantidade number(10, 2) NOT NULL, UNIDADEMEDIDA varchar2(255) NOT NULL, PRIMARY KEY (OPERACAOID));
CREATE TABLE SETORES_REGA (idSetor number(10) NOT NULL, QUINTAID number(10) NOT NULL, EDIFICIOID number(10) NOT NULL, dataInicio date NOT NULL, dataFim date, caudalMaximo number(20, 4) NOT NULL, UNIDADEMEDIDA varchar2(255) NOT NULL, PRIMARY KEY (idSetor));
CREATE TABLE SISTEMAS_REGA (QUINTAID number(10) NOT NULL, EDIFICIOID number(10) NOT NULL, nome varchar2(255) NOT NULL, area number(20, 4) NOT NULL, UNIDADEMEDIDA varchar2(255) NOT NULL, PRIMARY KEY (QUINTAID, EDIFICIOID));
CREATE TABLE SUBSTANCIAS (idSubstancia number(10) NOT NULL, substancia varchar2(255) NOT NULL, percentagem number(10, 6) NOT NULL, UNIDADEMEDIDA varchar2(255) NOT NULL, PRIMARY KEY (idSubstancia));
CREATE TABLE TIPOS_CONSUMO (idTipoConsumo number(10) NOT NULL, nome varchar2(255) NOT NULL, PRIMARY KEY (idTipoConsumo));
CREATE TABLE TIPOS_CULTURA (idTipoCultura number(10) NOT NULL, nome varchar2(255), PRIMARY KEY (idTipoCultura));
CREATE TABLE UNIDADES_MEDIDA (idUnidadeMedida varchar2(255) NOT NULL, nomeCompleto varchar2(255) NOT NULL, PRIMARY KEY (idUnidadeMedida));
ALTER TABLE CULTIVOS ADD CONSTRAINT FKCULTIVOS471337 FOREIGN KEY (CULTURAID) REFERENCES CULTURAS (idCultura);
ALTER TABLE CULTURAS ADD CONSTRAINT FKCULTURAS913358 FOREIGN KEY (TIPOCULTURAID) REFERENCES TIPOS_CULTURA (idTipoCultura);
ALTER TABLE CULTURAS ADD CONSTRAINT FKCULTURAS605462 FOREIGN KEY (ESPECIEVEGETALID) REFERENCES ESPECIES_VEGETAIS (idEspecieVegetal);
ALTER TABLE PARCELAS ADD CONSTRAINT FKPARCELAS201464 FOREIGN KEY (QUINTAID) REFERENCES QUINTAS (idQuinta);
ALTER TABLE EDIFICIOS ADD CONSTRAINT FKEDIFICIOS598935 FOREIGN KEY (QUINTAID) REFERENCES QUINTAS (idQuinta);
ALTER TABLE COMPONENTES ADD CONSTRAINT FKCOMPONENTE530575 FOREIGN KEY (FICHATECNICAID) REFERENCES FICHAS_TECNICAS (idFichaTecnica);
ALTER TABLE PRODUTOS ADD CONSTRAINT FKPRODUTOS388506 FOREIGN KEY (TIPOCONSUMOID) REFERENCES TIPOS_CONSUMO (idTipoConsumo);
ALTER TABLE FATORES_PRODUCAO ADD CONSTRAINT FKFATORES_PR788059 FOREIGN KEY (FORMULACAOID) REFERENCES FORMULACOES (idFormulacao);
ALTER TABLE FATORES_PRODUCAO ADD CONSTRAINT FKFATORES_PR100863 FOREIGN KEY (FICHATECNICAID) REFERENCES FICHAS_TECNICAS (idFichaTecnica);
ALTER TABLE COMPONENTES ADD CONSTRAINT FKCOMPONENTE278770 FOREIGN KEY (SUBSTANCIAID) REFERENCES SUBSTANCIAS (idSubstancia);
ALTER TABLE CICLOS ADD CONSTRAINT FKCICLOS995208 FOREIGN KEY (UNIDADEMEDIDAID) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE CULTIVOS ADD CONSTRAINT FKCULTIVOS721423 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE PARCELAS ADD CONSTRAINT FKPARCELAS281376 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE PRODUTOS ADD CONSTRAINT FKPRODUTOS876552 FOREIGN KEY (CULTURAID) REFERENCES CULTURAS (idCultura);
ALTER TABLE PRODUTOS ADD CONSTRAINT FKPRODUTOS902276 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE SEMENTEIRAS ADD CONSTRAINT FKSEMENTEIRA840393 FOREIGN KEY (OPERACAOID) REFERENCES OPERACOES (idOperacao);
ALTER TABLE OPERACOES ADD CONSTRAINT FKOPERACOES367308 FOREIGN KEY (OPERADORID) REFERENCES OPERADORES (idOperador);
ALTER TABLE SEMENTEIRAS ADD CONSTRAINT FKSEMENTEIRA160132 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE CICLOS ADD CONSTRAINT FKCICLOS666591 FOREIGN KEY (ESPECIEVEGETALID) REFERENCES ESPECIES_VEGETAIS (idEspecieVegetal);
ALTER TABLE ARMAZENS ADD CONSTRAINT FKARMAZENS656239 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE GARAGENS ADD CONSTRAINT FKGARAGENS502501 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE MOINHOS ADD CONSTRAINT FKMOINHOS126748 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE SISTEMAS_REGA ADD CONSTRAINT FKSISTEMAS_R66098 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE CULTIVOS ADD CONSTRAINT FKCULTIVOS767291 FOREIGN KEY (QUINTAID, PARCELAID) REFERENCES PARCELAS (QUINTAID, idParcela);
ALTER TABLE APLICACOES_FATPROD ADD CONSTRAINT FKAPLICACOES152055 FOREIGN KEY (OPERACAOID) REFERENCES OPERACOES (idOperacao);
ALTER TABLE APLICACOES_FATPROD ADD CONSTRAINT FKAPLICACOES528206 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE APLICACOES_FATPROD ADD CONSTRAINT FKAPLICACOES196773 FOREIGN KEY (FATORPRODID) REFERENCES FATORES_PRODUCAO (idFatorProducao);
ALTER TABLE PLANTACOES ADD CONSTRAINT FKPLANTACOES429040 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE PLANTACOES ADD CONSTRAINT FKPLANTACOES109302 FOREIGN KEY (OPERACAOID) REFERENCES OPERACOES (idOperacao);
ALTER TABLE SETORES_REGA ADD CONSTRAINT FKSETORES_RE627268 FOREIGN KEY (QUINTAID, EDIFICIOID) REFERENCES SISTEMAS_REGA (QUINTAID, EDIFICIOID);
ALTER TABLE ARMAZENS ADD CONSTRAINT FKARMAZENS457818 FOREIGN KEY (QUINTAID, EDIFICIOID) REFERENCES EDIFICIOS (QUINTAID, idEdificio);
ALTER TABLE GARAGENS ADD CONSTRAINT FKGARAGENS304080 FOREIGN KEY (QUINTAID, EDIFICIOID) REFERENCES EDIFICIOS (QUINTAID, idEdificio);
ALTER TABLE MOINHOS ADD CONSTRAINT FKMOINHOS325169 FOREIGN KEY (QUINTAID, EDIFICIOID) REFERENCES EDIFICIOS (QUINTAID, idEdificio);
ALTER TABLE SISTEMAS_REGA ADD CONSTRAINT FKSISTEMAS_R707071 FOREIGN KEY (QUINTAID, EDIFICIOID) REFERENCES EDIFICIOS (QUINTAID, idEdificio);
ALTER TABLE CULTIVOS ADD CONSTRAINT FKCULTIVOS625009 FOREIGN KEY (SETORREGAID) REFERENCES SETORES_REGA (idSetor);
ALTER TABLE REGAS ADD CONSTRAINT FKREGAS304503 FOREIGN KEY (SETOR) REFERENCES SETORES_REGA (idSetor);
ALTER TABLE REGAS ADD CONSTRAINT FKREGAS195254 FOREIGN KEY (OPERACAOID) REFERENCES OPERACOES (idOperacao);
ALTER TABLE REGAS ADD CONSTRAINT FKREGAS875515 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE PODAS ADD CONSTRAINT FKPODAS323499 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE INCORPS_SOLO ADD CONSTRAINT FKINCORPS_SO731995 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE COLHEITAS ADD CONSTRAINT FKCOLHEITAS801734 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE PODAS ADD CONSTRAINT FKPODAS643237 FOREIGN KEY (OPERACAOID) REFERENCES OPERACOES (idOperacao);
ALTER TABLE INCORPS_SOLO ADD CONSTRAINT FKINCORPS_SO412257 FOREIGN KEY (OPERACAOID) REFERENCES OPERACOES (idOperacao);
ALTER TABLE COLHEITAS ADD CONSTRAINT FKCOLHEITAS121473 FOREIGN KEY (OPERACAOID) REFERENCES OPERACOES (idOperacao);
ALTER TABLE OPERACOES ADD CONSTRAINT FKOPERACOES824325 FOREIGN KEY (PARCELAID, CULTURAID, dataInicioCultivo) REFERENCES CULTIVOS (PARCELAID, CULTURAID, dataInicio);
ALTER TABLE OPERACOES ADD CONSTRAINT FKOPERACOES367539 FOREIGN KEY (QUINTAID, PARCELAID) REFERENCES PARCELAS (QUINTAID, idParcela);
ALTER TABLE SETORES_REGA ADD CONSTRAINT FKSETORES_RE380548 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE SUBSTANCIAS ADD CONSTRAINT FKSUBSTANCIA490098 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE MONDAS ADD CONSTRAINT FKMONDAS834834 FOREIGN KEY (OPERACAOID) REFERENCES OPERACOES (idOperacao);
ALTER TABLE MOBILIZACOES_SOLO ADD CONSTRAINT FKMOBILIZACO975287 FOREIGN KEY (OPERACAOID) REFERENCES OPERACOES (idOperacao);
ALTER TABLE MOBILIZACOES_SOLO ADD CONSTRAINT FKMOBILIZACO295026 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE MONDAS ADD CONSTRAINT FKMONDAS154573 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE OPERACOES_LOGS ADD CONSTRAINT FKOPERACOES_110282 FOREIGN KEY (OPERACAOID) REFERENCES OPERACOES (idOperacao);
ALTER TABLE FERTIRREGAS ADD CONSTRAINT FKFERTIRREGA227431 FOREIGN KEY (OPERACAOID) REFERENCES OPERACOES (idOperacao);
ALTER TABLE FERTIRREGAS ADD CONSTRAINT FKFERTIRREGA118182 FOREIGN KEY (SETOR) REFERENCES SETORES_REGA (idSetor);
ALTER TABLE RECEITAS ADD CONSTRAINT FKRECEITAS594230 FOREIGN KEY (FATORPRODID) REFERENCES FATORES_PRODUCAO (idFatorProducao);
ALTER TABLE RECEITAS ADD CONSTRAINT FKRECEITAS807472 FOREIGN KEY (RECEITAID) REFERENCES MIX (idReceita);
ALTER TABLE FERTIRREGAS ADD CONSTRAINT FKFERTIRREGA280306 FOREIGN KEY (RECEITAID) REFERENCES MIX (idReceita);
ALTER TABLE FERTIRREGAS ADD CONSTRAINT FKFERTIRREGA452830 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
ALTER TABLE RECEITAS ADD CONSTRAINT FKRECEITAS925663 FOREIGN KEY (UNIDADEMEDIDA) REFERENCES UNIDADES_MEDIDA (idUnidadeMedida);
